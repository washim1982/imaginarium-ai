{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{useApi}from\"../services/api\";import{Prism as SyntaxHighlighter}from\"react-syntax-highlighter\";import{oneDark}from\"react-syntax-highlighter/dist/esm/styles/prism\";import\"../styles/page-codefix.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LANGUAGE_MAP={js:\"javascript\",jsx:\"javascript\",ts:\"typescript\",tsx:\"tsx\",py:\"python\",rb:\"ruby\",java:\"java\",go:\"go\",rs:\"rust\",cpp:\"cpp\",c:\"c\",cs:\"csharp\",php:\"php\",swift:\"swift\",kt:\"kotlin\"};function guessLanguage(){let filename=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";const ext=filename.split(\".\").pop();return LANGUAGE_MAP[ext]||\"text\";}export default function CodeFix(){const api=useApi();const fileInputRef=useRef(null);const[selectedFile,setSelectedFile]=useState(null);const[summary,setSummary]=useState(\"\");const[fixedCode,setFixedCode]=useState(\"\");const[originalCode,setOriginalCode]=useState(\"\");const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const[models,setModels]=useState([]);const[selectedModel,setSelectedModel]=useState(\"\");useEffect(()=>{let mounted=true;(async()=>{try{const res=await api.get(\"/models\");if(mounted){const list=res.data.models||[];setModels(list);setSelectedModel(prev=>prev||list[0]||\"\");}}catch(err){console.warn(\"Unable to load models\",err);}})();return()=>{mounted=false;};},[api]);const triggerUpload=()=>{var _fileInputRef$current;(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();};const handleFileChange=async event=>{var _event$target$files;const file=(_event$target$files=event.target.files)===null||_event$target$files===void 0?void 0:_event$target$files[0];if(!file)return;const inputEl=event.target;setSelectedFile(file);setError(\"\");setSummary(\"\");setFixedCode(\"\");setOriginalCode(\"\");const reader=new FileReader();reader.onload=ev=>{var _ev$target;const text=typeof((_ev$target=ev.target)===null||_ev$target===void 0?void 0:_ev$target.result)===\"string\"?ev.target.result:\"\";setOriginalCode(text);};reader.onerror=()=>{setOriginalCode(\"\");setError(\"Unable to preview file.\");};reader.readAsText(file);// Reset the input so selecting the same file again still triggers change.\nif(inputEl){inputEl.value=\"\";}};const runAgent=async()=>{if(!selectedFile){setError(\"Upload a file before running the agent.\");return;}await processFile(selectedFile);};const processFile=async file=>{setLoading(true);try{const data=new FormData();data.append(\"file\",file);data.append(\"model\",selectedModel);const response=await api.post(\"/codefix\",data,{headers:{\"Content-Type\":\"multipart/form-data\"}});setSummary(response.data.summary);setFixedCode(response.data.fixed_code);}catch(err){var _err$response,_err$response$data;console.error(err);setError((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||\"Unable to process file.\");}finally{setLoading(false);}};const copyFixed=async()=>{if(!fixedCode)return;await navigator.clipboard.writeText(fixedCode);};const downloadFixed=()=>{if(!fixedCode||!selectedFile)return;const blob=new Blob([fixedCode],{type:\"text/plain\"});const url=URL.createObjectURL(blob);const a=document.createElement(\"a\");a.href=url;const parts=selectedFile.name.split(\".\");const ext=parts.length>1?parts.pop():\"txt\";a.download=\"\".concat(parts.join(\".\")||\"codefix-output\",\".fixed.\").concat(ext);a.click();URL.revokeObjectURL(url);};const language=guessLanguage(selectedFile===null||selectedFile===void 0?void 0:selectedFile.name);return/*#__PURE__*/_jsxs(\"div\",{className:\"page codefix-page\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"codefix-section controls\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Code Fix Agent\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Upload a file, choose a model, and run the agent to receive fixes and a summary.\"}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".js,.jsx,.ts,.tsx,.py,.rb,.java,.go,.rs,.cpp,.c,.cs,.php,.swift,.kt,.json,.txt\",style:{display:\"none\"},onChange:handleFileChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"model-label\",htmlFor:\"model-select\",children:\"Agent Model\"}),/*#__PURE__*/_jsx(\"select\",{id:\"model-select\",className:\"model-select\",value:selectedModel,onChange:e=>setSelectedModel(e.target.value),disabled:!models.length||loading,children:models.map(m=>/*#__PURE__*/_jsx(\"option\",{value:m,children:m},m))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"model-label\",children:\"\\xA0\"}),/*#__PURE__*/_jsx(\"button\",{className:\"upload-btn\",onClick:triggerUpload,disabled:loading,children:selectedFile?\"Re-upload\":\"Upload\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"model-label\",children:\"\\xA0\"}),/*#__PURE__*/_jsx(\"button\",{className:\"run-btn\",onClick:runAgent,disabled:!selectedFile||loading,children:loading?\"Running...\":\"Run Agent\"})]})]}),selectedFile&&/*#__PURE__*/_jsxs(\"p\",{className:\"file-meta\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"File:\"}),\" \",selectedFile.name]}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"status\",children:\"Running agent...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"status error\",children:error}),summary&&/*#__PURE__*/_jsxs(\"div\",{className:\"summary-box\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Agent Summary\"}),/*#__PURE__*/_jsx(\"p\",{children:summary})]}),fixedCode&&/*#__PURE__*/_jsxs(\"div\",{className:\"codefix-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:copyFixed,children:\"Copy Code\"}),/*#__PURE__*/_jsx(\"button\",{onClick:downloadFixed,children:\"Download\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"codefix-section code-viewer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"code-view__header\",children:[\"Original Code \",selectedFile?\"- \".concat(selectedFile.name):\"\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"code-view__body\",children:/*#__PURE__*/_jsx(SyntaxHighlighter,{language:language,style:oneDark,showLineNumbers:true,wrapLines:true,customStyle:{background:\"transparent\",minHeight:\"220px\",boxShadow:\"none\"},children:originalCode||\"// Upload a file to see the original code here.\"})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"codefix-section code-viewer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"code-view__header\",children:\"Fixed Code Output\"}),/*#__PURE__*/_jsx(\"div\",{className:\"code-view__body\",children:/*#__PURE__*/_jsx(SyntaxHighlighter,{language:language,style:oneDark,showLineNumbers:true,wrapLines:true,customStyle:{background:\"transparent\",minHeight:\"220px\",boxShadow:\"none\"},children:fixedCode||\"// Run the agent to see the fixed code here.\"})})]})]});}","map":{"version":3,"names":["React","useEffect","useRef","useState","useApi","Prism","SyntaxHighlighter","oneDark","jsx","_jsx","jsxs","_jsxs","LANGUAGE_MAP","js","ts","tsx","py","rb","java","go","rs","cpp","c","cs","php","swift","kt","guessLanguage","filename","arguments","length","undefined","ext","split","pop","CodeFix","api","fileInputRef","selectedFile","setSelectedFile","summary","setSummary","fixedCode","setFixedCode","originalCode","setOriginalCode","loading","setLoading","error","setError","models","setModels","selectedModel","setSelectedModel","mounted","res","get","list","data","prev","err","console","warn","triggerUpload","_fileInputRef$current","current","click","handleFileChange","event","_event$target$files","file","target","files","inputEl","reader","FileReader","onload","ev","_ev$target","text","result","onerror","readAsText","value","runAgent","processFile","FormData","append","response","post","headers","fixed_code","_err$response","_err$response$data","detail","copyFixed","navigator","clipboard","writeText","downloadFixed","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","parts","name","download","concat","join","revokeObjectURL","language","className","children","ref","accept","style","display","onChange","htmlFor","id","e","disabled","map","m","onClick","showLineNumbers","wrapLines","customStyle","background","minHeight","boxShadow"],"sources":["/home/python/imaginarium-ai/frontend/src/pages/CodeFix.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { useApi } from \"../services/api\";\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport { oneDark } from \"react-syntax-highlighter/dist/esm/styles/prism\";\nimport \"../styles/page-codefix.css\";\n\nconst LANGUAGE_MAP = {\n  js: \"javascript\",\n  jsx: \"javascript\",\n  ts: \"typescript\",\n  tsx: \"tsx\",\n  py: \"python\",\n  rb: \"ruby\",\n  java: \"java\",\n  go: \"go\",\n  rs: \"rust\",\n  cpp: \"cpp\",\n  c: \"c\",\n  cs: \"csharp\",\n  php: \"php\",\n  swift: \"swift\",\n  kt: \"kotlin\",\n};\n\nfunction guessLanguage(filename = \"\") {\n  const ext = filename.split(\".\").pop();\n  return LANGUAGE_MAP[ext] || \"text\";\n}\n\nexport default function CodeFix() {\n  const api = useApi();\n  const fileInputRef = useRef(null);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [summary, setSummary] = useState(\"\");\n  const [fixedCode, setFixedCode] = useState(\"\");\n  const [originalCode, setOriginalCode] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [models, setModels] = useState([]);\n  const [selectedModel, setSelectedModel] = useState(\"\");\n\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      try {\n        const res = await api.get(\"/models\");\n        if (mounted) {\n          const list = res.data.models || [];\n          setModels(list);\n          setSelectedModel((prev) => prev || list[0] || \"\");\n        }\n      } catch (err) {\n        console.warn(\"Unable to load models\", err);\n      }\n    })();\n    return () => {\n      mounted = false;\n    };\n  }, [api]);\n\n  const triggerUpload = () => {\n    fileInputRef.current?.click();\n  };\n\n  const handleFileChange = async (event) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n    const inputEl = event.target;\n    setSelectedFile(file);\n    setError(\"\");\n    setSummary(\"\");\n    setFixedCode(\"\");\n    setOriginalCode(\"\");\n    const reader = new FileReader();\n    reader.onload = (ev) => {\n      const text = typeof ev.target?.result === \"string\" ? ev.target.result : \"\";\n      setOriginalCode(text);\n    };\n    reader.onerror = () => {\n      setOriginalCode(\"\");\n      setError(\"Unable to preview file.\");\n    };\n    reader.readAsText(file);\n    // Reset the input so selecting the same file again still triggers change.\n    if (inputEl) {\n      inputEl.value = \"\";\n    }\n  };\n\n  const runAgent = async () => {\n    if (!selectedFile) {\n      setError(\"Upload a file before running the agent.\");\n      return;\n    }\n    await processFile(selectedFile);\n  };\n\n  const processFile = async (file) => {\n    setLoading(true);\n    try {\n      const data = new FormData();\n      data.append(\"file\", file);\n      data.append(\"model\", selectedModel);\n      const response = await api.post(\"/codefix\", data, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      });\n      setSummary(response.data.summary);\n      setFixedCode(response.data.fixed_code);\n    } catch (err) {\n      console.error(err);\n      setError(err?.response?.data?.detail || \"Unable to process file.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const copyFixed = async () => {\n    if (!fixedCode) return;\n    await navigator.clipboard.writeText(fixedCode);\n  };\n\n  const downloadFixed = () => {\n    if (!fixedCode || !selectedFile) return;\n    const blob = new Blob([fixedCode], { type: \"text/plain\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    const parts = selectedFile.name.split(\".\");\n    const ext = parts.length > 1 ? parts.pop() : \"txt\";\n    a.download = `${parts.join(\".\") || \"codefix-output\"}.fixed.${ext}`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  const language = guessLanguage(selectedFile?.name);\n\n  return (\n    <div className=\"page codefix-page\">\n      <section className=\"codefix-section controls\">\n        <h2>Code Fix Agent</h2>\n        <p>Upload a file, choose a model, and run the agent to receive fixes and a summary.</p>\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          accept=\".js,.jsx,.ts,.tsx,.py,.rb,.java,.go,.rs,.cpp,.c,.cs,.php,.swift,.kt,.json,.txt\"\n          style={{ display: \"none\" }}\n          onChange={handleFileChange}\n        />\n        <div className=\"controls-row\">\n          <div className=\"control-group\">\n            <label className=\"model-label\" htmlFor=\"model-select\">\n              Agent Model\n            </label>\n            <select\n              id=\"model-select\"\n              className=\"model-select\"\n              value={selectedModel}\n              onChange={(e) => setSelectedModel(e.target.value)}\n              disabled={!models.length || loading}\n            >\n              {models.map((m) => (\n                <option key={m} value={m}>\n                  {m}\n                </option>\n              ))}\n            </select>\n          </div>\n          <div className=\"control-group\">\n            <label className=\"model-label\">&nbsp;</label>\n            <button className=\"upload-btn\" onClick={triggerUpload} disabled={loading}>\n              {selectedFile ? \"Re-upload\" : \"Upload\"}\n            </button>\n          </div>\n          <div className=\"control-group\">\n            <label className=\"model-label\">&nbsp;</label>\n            <button className=\"run-btn\" onClick={runAgent} disabled={!selectedFile || loading}>\n              {loading ? \"Running...\" : \"Run Agent\"}\n            </button>\n          </div>\n        </div>\n        {selectedFile && (\n          <p className=\"file-meta\">\n            <strong>File:</strong> {selectedFile.name}\n          </p>\n        )}\n        {loading && <p className=\"status\">Running agent...</p>}\n        {error && <p className=\"status error\">{error}</p>}\n        {summary && (\n          <div className=\"summary-box\">\n            <h3>Agent Summary</h3>\n            <p>{summary}</p>\n          </div>\n        )}\n        {fixedCode && (\n          <div className=\"codefix-actions\">\n            <button onClick={copyFixed}>Copy Code</button>\n            <button onClick={downloadFixed}>Download</button>\n          </div>\n        )}\n      </section>\n\n      <section className=\"codefix-section code-viewer\">\n        <div className=\"code-view__header\">\n          Original Code {selectedFile ? `- ${selectedFile.name}` : \"\"}\n        </div>\n        <div className=\"code-view__body\">\n          <SyntaxHighlighter\n            language={language}\n            style={oneDark}\n            showLineNumbers\n            wrapLines\n            customStyle={{\n              background: \"transparent\",\n              minHeight: \"220px\",\n              boxShadow: \"none\",\n            }}\n          >\n            {originalCode || \"// Upload a file to see the original code here.\"}\n          </SyntaxHighlighter>\n        </div>\n      </section>\n\n      <section className=\"codefix-section code-viewer\">\n        <div className=\"code-view__header\">Fixed Code Output</div>\n        <div className=\"code-view__body\">\n          <SyntaxHighlighter\n            language={language}\n            style={oneDark}\n            showLineNumbers\n            wrapLines\n            customStyle={{\n              background: \"transparent\",\n              minHeight: \"220px\",\n              boxShadow: \"none\",\n            }}\n          >\n            {fixedCode || \"// Run the agent to see the fixed code here.\"}\n          </SyntaxHighlighter>\n        </div>\n      </section>\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,OAASC,MAAM,KAAQ,iBAAiB,CACxC,OAASC,KAAK,GAAI,CAAAC,iBAAiB,KAAQ,0BAA0B,CACrE,OAASC,OAAO,KAAQ,gDAAgD,CACxE,MAAO,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,KAAM,CAAAC,YAAY,CAAG,CACnBC,EAAE,CAAE,YAAY,CAChBL,GAAG,CAAE,YAAY,CACjBM,EAAE,CAAE,YAAY,CAChBC,GAAG,CAAE,KAAK,CACVC,EAAE,CAAE,QAAQ,CACZC,EAAE,CAAE,MAAM,CACVC,IAAI,CAAE,MAAM,CACZC,EAAE,CAAE,IAAI,CACRC,EAAE,CAAE,MAAM,CACVC,GAAG,CAAE,KAAK,CACVC,CAAC,CAAE,GAAG,CACNC,EAAE,CAAE,QAAQ,CACZC,GAAG,CAAE,KAAK,CACVC,KAAK,CAAE,OAAO,CACdC,EAAE,CAAE,QACN,CAAC,CAED,QAAS,CAAAC,aAAaA,CAAA,CAAgB,IAAf,CAAAC,QAAQ,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAClC,KAAM,CAAAG,GAAG,CAAGJ,QAAQ,CAACK,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC,CACrC,MAAO,CAAAtB,YAAY,CAACoB,GAAG,CAAC,EAAI,MAAM,CACpC,CAEA,cAAe,SAAS,CAAAG,OAAOA,CAAA,CAAG,CAChC,KAAM,CAAAC,GAAG,CAAGhC,MAAM,CAAC,CAAC,CACpB,KAAM,CAAAiC,YAAY,CAAGnC,MAAM,CAAC,IAAI,CAAC,CACjC,KAAM,CAACoC,YAAY,CAAEC,eAAe,CAAC,CAAGpC,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACqC,OAAO,CAAEC,UAAU,CAAC,CAAGtC,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACuC,SAAS,CAAEC,YAAY,CAAC,CAAGxC,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACyC,YAAY,CAAEC,eAAe,CAAC,CAAG1C,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC2C,OAAO,CAAEC,UAAU,CAAC,CAAG5C,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC6C,KAAK,CAAEC,QAAQ,CAAC,CAAG9C,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAC+C,MAAM,CAAEC,SAAS,CAAC,CAAGhD,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACiD,aAAa,CAAEC,gBAAgB,CAAC,CAAGlD,QAAQ,CAAC,EAAE,CAAC,CAEtDF,SAAS,CAAC,IAAM,CACd,GAAI,CAAAqD,OAAO,CAAG,IAAI,CAClB,CAAC,SAAY,CACX,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAnB,GAAG,CAACoB,GAAG,CAAC,SAAS,CAAC,CACpC,GAAIF,OAAO,CAAE,CACX,KAAM,CAAAG,IAAI,CAAGF,GAAG,CAACG,IAAI,CAACR,MAAM,EAAI,EAAE,CAClCC,SAAS,CAACM,IAAI,CAAC,CACfJ,gBAAgB,CAAEM,IAAI,EAAKA,IAAI,EAAIF,IAAI,CAAC,CAAC,CAAC,EAAI,EAAE,CAAC,CACnD,CACF,CAAE,MAAOG,GAAG,CAAE,CACZC,OAAO,CAACC,IAAI,CAAC,uBAAuB,CAAEF,GAAG,CAAC,CAC5C,CACF,CAAC,EAAE,CAAC,CACJ,MAAO,IAAM,CACXN,OAAO,CAAG,KAAK,CACjB,CAAC,CACH,CAAC,CAAE,CAAClB,GAAG,CAAC,CAAC,CAET,KAAM,CAAA2B,aAAa,CAAGA,CAAA,GAAM,KAAAC,qBAAA,CAC1B,CAAAA,qBAAA,CAAA3B,YAAY,CAAC4B,OAAO,UAAAD,qBAAA,iBAApBA,qBAAA,CAAsBE,KAAK,CAAC,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAG,KAAO,CAAAC,KAAK,EAAK,KAAAC,mBAAA,CACxC,KAAM,CAAAC,IAAI,EAAAD,mBAAA,CAAGD,KAAK,CAACG,MAAM,CAACC,KAAK,UAAAH,mBAAA,iBAAlBA,mBAAA,CAAqB,CAAC,CAAC,CACpC,GAAI,CAACC,IAAI,CAAE,OACX,KAAM,CAAAG,OAAO,CAAGL,KAAK,CAACG,MAAM,CAC5BhC,eAAe,CAAC+B,IAAI,CAAC,CACrBrB,QAAQ,CAAC,EAAE,CAAC,CACZR,UAAU,CAAC,EAAE,CAAC,CACdE,YAAY,CAAC,EAAE,CAAC,CAChBE,eAAe,CAAC,EAAE,CAAC,CACnB,KAAM,CAAA6B,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,MAAM,CAAIC,EAAE,EAAK,KAAAC,UAAA,CACtB,KAAM,CAAAC,IAAI,CAAG,QAAAD,UAAA,CAAOD,EAAE,CAACN,MAAM,UAAAO,UAAA,iBAATA,UAAA,CAAWE,MAAM,IAAK,QAAQ,CAAGH,EAAE,CAACN,MAAM,CAACS,MAAM,CAAG,EAAE,CAC1EnC,eAAe,CAACkC,IAAI,CAAC,CACvB,CAAC,CACDL,MAAM,CAACO,OAAO,CAAG,IAAM,CACrBpC,eAAe,CAAC,EAAE,CAAC,CACnBI,QAAQ,CAAC,yBAAyB,CAAC,CACrC,CAAC,CACDyB,MAAM,CAACQ,UAAU,CAACZ,IAAI,CAAC,CACvB;AACA,GAAIG,OAAO,CAAE,CACXA,OAAO,CAACU,KAAK,CAAG,EAAE,CACpB,CACF,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CAAC9C,YAAY,CAAE,CACjBW,QAAQ,CAAC,yCAAyC,CAAC,CACnD,OACF,CACA,KAAM,CAAAoC,WAAW,CAAC/C,YAAY,CAAC,CACjC,CAAC,CAED,KAAM,CAAA+C,WAAW,CAAG,KAAO,CAAAf,IAAI,EAAK,CAClCvB,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAW,IAAI,CAAG,GAAI,CAAA4B,QAAQ,CAAC,CAAC,CAC3B5B,IAAI,CAAC6B,MAAM,CAAC,MAAM,CAAEjB,IAAI,CAAC,CACzBZ,IAAI,CAAC6B,MAAM,CAAC,OAAO,CAAEnC,aAAa,CAAC,CACnC,KAAM,CAAAoC,QAAQ,CAAG,KAAM,CAAApD,GAAG,CAACqD,IAAI,CAAC,UAAU,CAAE/B,IAAI,CAAE,CAChDgC,OAAO,CAAE,CAAE,cAAc,CAAE,qBAAsB,CACnD,CAAC,CAAC,CACFjD,UAAU,CAAC+C,QAAQ,CAAC9B,IAAI,CAAClB,OAAO,CAAC,CACjCG,YAAY,CAAC6C,QAAQ,CAAC9B,IAAI,CAACiC,UAAU,CAAC,CACxC,CAAE,MAAO/B,GAAG,CAAE,KAAAgC,aAAA,CAAAC,kBAAA,CACZhC,OAAO,CAACb,KAAK,CAACY,GAAG,CAAC,CAClBX,QAAQ,CAAC,CAAAW,GAAG,SAAHA,GAAG,kBAAAgC,aAAA,CAAHhC,GAAG,CAAE4B,QAAQ,UAAAI,aAAA,kBAAAC,kBAAA,CAAbD,aAAA,CAAelC,IAAI,UAAAmC,kBAAA,iBAAnBA,kBAAA,CAAqBC,MAAM,GAAI,yBAAyB,CAAC,CACpE,CAAC,OAAS,CACR/C,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAgD,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CAACrD,SAAS,CAAE,OAChB,KAAM,CAAAsD,SAAS,CAACC,SAAS,CAACC,SAAS,CAACxD,SAAS,CAAC,CAChD,CAAC,CAED,KAAM,CAAAyD,aAAa,CAAGA,CAAA,GAAM,CAC1B,GAAI,CAACzD,SAAS,EAAI,CAACJ,YAAY,CAAE,OACjC,KAAM,CAAA8D,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC3D,SAAS,CAAC,CAAE,CAAE4D,IAAI,CAAE,YAAa,CAAC,CAAC,CAC1D,KAAM,CAAAC,GAAG,CAAGC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC,CACrC,KAAM,CAAAM,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCF,CAAC,CAACG,IAAI,CAAGN,GAAG,CACZ,KAAM,CAAAO,KAAK,CAAGxE,YAAY,CAACyE,IAAI,CAAC9E,KAAK,CAAC,GAAG,CAAC,CAC1C,KAAM,CAAAD,GAAG,CAAG8E,KAAK,CAAChF,MAAM,CAAG,CAAC,CAAGgF,KAAK,CAAC5E,GAAG,CAAC,CAAC,CAAG,KAAK,CAClDwE,CAAC,CAACM,QAAQ,IAAAC,MAAA,CAAMH,KAAK,CAACI,IAAI,CAAC,GAAG,CAAC,EAAI,gBAAgB,YAAAD,MAAA,CAAUjF,GAAG,CAAE,CAClE0E,CAAC,CAACxC,KAAK,CAAC,CAAC,CACTsC,GAAG,CAACW,eAAe,CAACZ,GAAG,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAa,QAAQ,CAAGzF,aAAa,CAACW,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEyE,IAAI,CAAC,CAElD,mBACEpG,KAAA,QAAK0G,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC3G,KAAA,YAAS0G,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eAC3C7G,IAAA,OAAA6G,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB7G,IAAA,MAAA6G,QAAA,CAAG,kFAAgF,CAAG,CAAC,cACvF7G,IAAA,UACE8G,GAAG,CAAElF,YAAa,CAClBiE,IAAI,CAAC,MAAM,CACXkB,MAAM,CAAC,gFAAgF,CACvFC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAC3BC,QAAQ,CAAExD,gBAAiB,CAC5B,CAAC,cACFxD,KAAA,QAAK0G,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B3G,KAAA,QAAK0G,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B7G,IAAA,UAAO4G,SAAS,CAAC,aAAa,CAACO,OAAO,CAAC,cAAc,CAAAN,QAAA,CAAC,aAEtD,CAAO,CAAC,cACR7G,IAAA,WACEoH,EAAE,CAAC,cAAc,CACjBR,SAAS,CAAC,cAAc,CACxBlC,KAAK,CAAE/B,aAAc,CACrBuE,QAAQ,CAAGG,CAAC,EAAKzE,gBAAgB,CAACyE,CAAC,CAACvD,MAAM,CAACY,KAAK,CAAE,CAClD4C,QAAQ,CAAE,CAAC7E,MAAM,CAACpB,MAAM,EAAIgB,OAAQ,CAAAwE,QAAA,CAEnCpE,MAAM,CAAC8E,GAAG,CAAEC,CAAC,eACZxH,IAAA,WAAgB0E,KAAK,CAAE8C,CAAE,CAAAX,QAAA,CACtBW,CAAC,EADSA,CAEL,CACT,CAAC,CACI,CAAC,EACN,CAAC,cACNtH,KAAA,QAAK0G,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B7G,IAAA,UAAO4G,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,MAAM,CAAO,CAAC,cAC7C7G,IAAA,WAAQ4G,SAAS,CAAC,YAAY,CAACa,OAAO,CAAEnE,aAAc,CAACgE,QAAQ,CAAEjF,OAAQ,CAAAwE,QAAA,CACtEhF,YAAY,CAAG,WAAW,CAAG,QAAQ,CAChC,CAAC,EACN,CAAC,cACN3B,KAAA,QAAK0G,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B7G,IAAA,UAAO4G,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,MAAM,CAAO,CAAC,cAC7C7G,IAAA,WAAQ4G,SAAS,CAAC,SAAS,CAACa,OAAO,CAAE9C,QAAS,CAAC2C,QAAQ,CAAE,CAACzF,YAAY,EAAIQ,OAAQ,CAAAwE,QAAA,CAC/ExE,OAAO,CAAG,YAAY,CAAG,WAAW,CAC/B,CAAC,EACN,CAAC,EACH,CAAC,CACLR,YAAY,eACX3B,KAAA,MAAG0G,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtB7G,IAAA,WAAA6G,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAAChF,YAAY,CAACyE,IAAI,EACxC,CACJ,CACAjE,OAAO,eAAIrC,IAAA,MAAG4G,SAAS,CAAC,QAAQ,CAAAC,QAAA,CAAC,kBAAgB,CAAG,CAAC,CACrDtE,KAAK,eAAIvC,IAAA,MAAG4G,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEtE,KAAK,CAAI,CAAC,CAChDR,OAAO,eACN7B,KAAA,QAAK0G,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B7G,IAAA,OAAA6G,QAAA,CAAI,eAAa,CAAI,CAAC,cACtB7G,IAAA,MAAA6G,QAAA,CAAI9E,OAAO,CAAI,CAAC,EACb,CACN,CACAE,SAAS,eACR/B,KAAA,QAAK0G,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B7G,IAAA,WAAQyH,OAAO,CAAEnC,SAAU,CAAAuB,QAAA,CAAC,WAAS,CAAQ,CAAC,cAC9C7G,IAAA,WAAQyH,OAAO,CAAE/B,aAAc,CAAAmB,QAAA,CAAC,UAAQ,CAAQ,CAAC,EAC9C,CACN,EACM,CAAC,cAEV3G,KAAA,YAAS0G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC9C3G,KAAA,QAAK0G,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAAC,gBACnB,CAAChF,YAAY,MAAA2E,MAAA,CAAQ3E,YAAY,CAACyE,IAAI,EAAK,EAAE,EACxD,CAAC,cACNtG,IAAA,QAAK4G,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B7G,IAAA,CAACH,iBAAiB,EAChB8G,QAAQ,CAAEA,QAAS,CACnBK,KAAK,CAAElH,OAAQ,CACf4H,eAAe,MACfC,SAAS,MACTC,WAAW,CAAE,CACXC,UAAU,CAAE,aAAa,CACzBC,SAAS,CAAE,OAAO,CAClBC,SAAS,CAAE,MACb,CAAE,CAAAlB,QAAA,CAED1E,YAAY,EAAI,iDAAiD,CACjD,CAAC,CACjB,CAAC,EACC,CAAC,cAEVjC,KAAA,YAAS0G,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC9C7G,IAAA,QAAK4G,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAC,mBAAiB,CAAK,CAAC,cAC1D7G,IAAA,QAAK4G,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B7G,IAAA,CAACH,iBAAiB,EAChB8G,QAAQ,CAAEA,QAAS,CACnBK,KAAK,CAAElH,OAAQ,CACf4H,eAAe,MACfC,SAAS,MACTC,WAAW,CAAE,CACXC,UAAU,CAAE,aAAa,CACzBC,SAAS,CAAE,OAAO,CAClBC,SAAS,CAAE,MACb,CAAE,CAAAlB,QAAA,CAED5E,SAAS,EAAI,8CAA8C,CAC3C,CAAC,CACjB,CAAC,EACC,CAAC,EACP,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}