{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useApi}from\"../services/api\";import\"../styles/page-training.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Training(){const api=useApi();const[models,setModels]=useState([]);const[base,setBase]=useState(\"granite4:tiny-h\");const[newName,setNewName]=useState(\"\");const[file,setFile]=useState(null);const[result,setResult]=useState(null);const[busy,setBusy]=useState(false);useEffect(()=>{(async()=>{const{data}=await api.get(\"/models\");setModels(data.models||[]);})();},[api]);const start=async()=>{if(!newName)return;setBusy(true);setResult(null);// Simulated training — backend ignores file for now, but we keep the UI flow.\nconst{data}=await api.post(\"/training/lora\",{base_model:base,new_model:newName});setResult(data.model);setBusy(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"page training\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Custom Model Training\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Base model\"}),/*#__PURE__*/_jsx(\"select\",{value:base,onChange:e=>setBase(e.target.value),children:models.map(m=>/*#__PURE__*/_jsx(\"option\",{value:m,children:m},m))}),/*#__PURE__*/_jsx(\"label\",{children:\"New model name\"}),/*#__PURE__*/_jsx(\"input\",{value:newName,onChange:e=>setNewName(e.target.value),placeholder:\"my-model-name\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Training data (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setFile(e.target.files[0])}),/*#__PURE__*/_jsx(\"button\",{onClick:start,disabled:busy||!newName,children:busy?\"Training…\":\"Start Training\"})]}),result&&/*#__PURE__*/_jsxs(\"div\",{className:\"result\",children:[\"Created: \",/*#__PURE__*/_jsx(\"code\",{children:result})]})]});}","map":{"version":3,"names":["React","useEffect","useState","useApi","jsx","_jsx","jsxs","_jsxs","Training","api","models","setModels","base","setBase","newName","setNewName","file","setFile","result","setResult","busy","setBusy","data","get","start","post","base_model","new_model","model","className","children","value","onChange","e","target","map","m","placeholder","type","files","onClick","disabled"],"sources":["/home/python/imaginarium-ai/frontend/src/pages/Training.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useApi } from \"../services/api\";\nimport \"../styles/page-training.css\";\n\n\nexport default function Training(){\nconst api = useApi();\nconst [models, setModels] = useState([]);\nconst [base, setBase] = useState(\"granite4:tiny-h\");\nconst [newName, setNewName] = useState(\"\");\nconst [file, setFile] = useState(null);\nconst [result, setResult] = useState(null);\nconst [busy, setBusy] = useState(false);\n\n\nuseEffect(()=>{ (async()=>{\nconst { data } = await api.get(\"/models\");\nsetModels(data.models || []);\n})(); }, [api]);\n\n\nconst start = async () => {\nif(!newName) return;\nsetBusy(true); setResult(null);\n// Simulated training — backend ignores file for now, but we keep the UI flow.\nconst { data } = await api.post(\"/training/lora\", { base_model: base, new_model: newName });\nsetResult(data.model);\nsetBusy(false);\n};\n\n\nreturn (\n<div className=\"page training\">\n<h2>Custom Model Training</h2>\n<div className=\"card\">\n<label>Base model</label>\n<select value={base} onChange={e=>setBase(e.target.value)}>\n{models.map(m => <option key={m} value={m}>{m}</option>)}\n</select>\n<label>New model name</label>\n<input value={newName} onChange={e=>setNewName(e.target.value)} placeholder=\"my-model-name\" />\n<label>Training data (optional)</label>\n<input type=\"file\" onChange={e=>setFile(e.target.files[0])} />\n<button onClick={start} disabled={busy || !newName}>{busy?\"Training…\":\"Start Training\"}</button>\n</div>\n{result && <div className=\"result\">Created: <code>{result}</code></div>}\n</div>\n);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}